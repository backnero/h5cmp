(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1eff"],{"2gRl":function(e,t,n){"use strict";n.r(t);var a=n("14Xm"),r=n.n(a),i=n("oF3Q"),o=n.n(i),s=n("D3Ub"),u=n.n(s),c=n("p/22"),l={components:{},props:{},data:function(){return{tableKey:0,list:[],total:0,listLoading:!0,listQuery:{page:1,limit:20,importance:void 0,title:void 0,type:void 0,sort:"+id"},tableData:[],tableKeys:[]}},watch:{},computed:{},methods:{getList:function(){var e=this;return u()(r.a.mark(function t(){var n,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.listLoading=!0,e.tableKeys=[{key:"username",width:300},{key:"description",width:"auto",align:"left"},{key:"plugins",width:"auto"}],t.next=4,Object(c.a)();case 4:n=t.sent,a=void 0,a=n.node.nodes?n.node.nodes.map(function(e){var t=[],n=e.value,a=n.username,r=n.desc;return o()(n.plugins).map(function(e,n){t.push({name:e[0],key:e[1].key})}),{username:a,plugins:t.map(function(e){return e.name}).join(", "),pluginArr:t,description:r}}):[],e.tableData=a,e.total=a.length,e.listLoading=!1;case 10:case"end":return t.stop()}},t,e)}))()},handleCreate:function(){this.$router.push({name:"GatewayConsumersCreate"})},handleEdit:function(e){this.$router.push({name:"GatewayConsumersEdit",params:{username:e.username}})},handleRemove:function(e){var t=this;this.$confirm("此操作将永久删除该条数据, 是否继续?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(u()(r.a.mark(function n(){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(c.c)(e.username);case 2:t.getList(),t.$message.success("Remove consumer "+e.username+" successfully!");case 4:case"end":return n.stop()}},n,t)})))}},created:function(){this.getList()},mounted:function(){}},d=n("KHd+"),f=Object(d.a)(l,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("el-button",{on:{click:e.handleCreate}},[e._v("新增")])],1),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.tableData,border:!0,fit:"","highlight-current-row":"","header-cell-style":{background:"#f5f7fa"},"default-sort":{prop:"id",order:"descending"}}},[e._l(e.tableKeys,function(e,t){return n("el-table-column",{key:t,attrs:{label:e.key,prop:e.key,width:e.width,"class-name":"left"===e.align?"":"status-col",align:"center"}})}),e._v(" "),n("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){e.handleRemove(t.row)}}},[e._v("删除")]),e._v(" "),n("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(n){e.handleEdit(t.row)}}},[e._v("编辑")])]}}])})],2)],1)},[],!1,null,null,null);f.options.__file="index.vue";t.default=f.exports},E8gZ:function(e,t,n){var a=n("jmDH"),r=n("w6GO"),i=n("NsO/"),o=n("NV0k").f;e.exports=function(e){return function(t){for(var n,s=i(t),u=r(s),c=u.length,l=0,d=[];c>l;)n=u[l++],a&&!o.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}}},nGDx:function(e,t,n){var a=n("Y7ZC"),r=n("E8gZ")(!0);a(a.S,"Object",{entries:function(e){return r(e)}})},oF3Q:function(e,t,n){e.exports={default:n("tgZa"),__esModule:!0}},"p/22":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"d",function(){return s});var a=n("t3Un");function r(e){return Object(a.a)({url:"/apisix/admin/consumers",method:"GET",params:e})}var i=function(e){return Object(a.a)({url:"/apisix/admin/consumers/"+e,method:"DELETE"})},o=function(e){return Object(a.a)({url:"/apisix/admin/consumers/"+e,method:"GET"})},s=function(e){return Object(a.a)({url:"/apisix/admin/consumers",method:"PUT",data:e})}},tgZa:function(e,t,n){n("nGDx"),e.exports=n("WEpk").Object.entries}}]);