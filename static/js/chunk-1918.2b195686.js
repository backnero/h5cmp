(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1918"],{"1D2j":function(t,e,n){},"5qhT":function(t,e,n){"use strict";n.d(e,"c",function(){return a}),n.d(e,"f",function(){return r}),n.d(e,"b",function(){return i}),n.d(e,"i",function(){return c}),n.d(e,"e",function(){return s}),n.d(e,"g",function(){return l}),n.d(e,"d",function(){return u}),n.d(e,"j",function(){return d}),n.d(e,"l",function(){return p}),n.d(e,"a",function(){return f}),n.d(e,"h",function(){return m}),n.d(e,"m",function(){return h}),n.d(e,"k",function(){return b});var o=n("t3Un"),a=function(t){return Object(o.a)({url:"cms/books",method:"get",params:t})},r=function(t){return Object(o.a)({url:"cms/book",method:"get",params:t})},i=function(t){return Object(o.a)({url:"cms/book",method:"post",data:t})},c=function(t){return Object(o.a)({url:"cms/books/"+t,method:"delete"})},s=function(t){return Object(o.a)({url:"cms/book/chapterstree",method:"get",params:t})},l=function(t,e){return Object(o.a)({url:"cms/book/chapter/"+e,method:"get",params:t})},u=function(t){return Object(o.a)({url:"cms/book/chapter",method:"post",data:t})},d=function(t){return Object(o.a)({url:"cms/book/chapters/"+t,method:"delete"})},p=function(t){return Object(o.a)({url:"cms/book/chapter/season",method:"post",data:t})},f=function(){return Object(o.a)({url:"cms/book/classifys/tree",method:"get"})},m=function(t){return Object(o.a)({url:"cms/book/classify",method:"get",params:t})},h=function(t){return Object(o.a)({url:"cms/book/classify",method:"post",data:t})},b=function(t){return Object(o.a)({url:"cms/book/classifys/"+t,method:"delete"})}},Tvau:function(t,e,n){"use strict";var o={props:{value:{required:!0},disabled:{type:Boolean,default:!1},options:{type:Array,default:function(){return[]},required:!0},placeholder:{type:String}},model:{prop:"value"},data:function(){return{selectId:this.value}},watch:{value:function(t){this.selectId=t}},methods:{changeFn:function(){this.$emit("input",this.selectId)},handleSelect:function(t){t.target.parentElement.previousElementSibling.children[0].children[1].click(),this.$refs.cascader.dropDownVisible=!1}}},a=(n("iGDy"),n("KHd+")),r=Object(a.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-cascader",{ref:"cascader",attrs:{disabled:t.disabled,placeholder:t.placeholder,props:{children:"childs",label:"title",value:"id",checkStrictly:!0,expandTrigger:"hover",emitPath:!1},options:t.options,"show-all-levels":!1,clearable:""},on:{change:t.changeFn},scopedSlots:t._u([{key:"default",fn:function(e){e.node;var o=e.data;return[n("div",{staticClass:"select-item",domProps:{innerHTML:t._s(o.title)},on:{click:t.handleSelect}})]}}]),model:{value:t.selectId,callback:function(e){t.selectId=e},expression:"selectId"}})},[],!1,null,null,null);r.options.__file="index.vue";e.a=r.exports},Y5bG:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),Math.easeInOutQuad=function(t,e,n,o){return(t/=o/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e};var o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};function a(t,e,n){var a=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,r=t-a,i=0;e=void 0===e?500:e;!function t(){i+=20,function(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}(Math.easeInOutQuad(i,a,r,e)),i<e?o(t):n&&"function"==typeof n&&n()}()}},ZEvx:function(t,e,n){"use strict";n.r(e);var o=n("14Xm"),a=n.n(o),r=n("D3Ub"),i=n.n(r),c=n("5qhT"),s=n("Mz3J"),l=n("Tvau"),u={components:{Pagination:s.a,VSelect:l.a},props:{},data:function(){return{listLoading:!1,tableData:[],options:[],total:0,listQuery:{keyword:"",page:1,count:10,sort:"desc",as:1,cs:1,ts:1},defaultProps:{children:"childs",value:"id",label:"title"}}},watch:{},computed:{},methods:{getList:function(){var t=this;return i()(a.a.mark(function e(){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.listLoading=!0,e.next=3,Object(c.c)(t.listQuery);case 3:n=e.sent,t.total=n.meta.total||0,t.tableData=n.data,t.listLoading=!1;case 7:case"end":return e.stop()}},e,t)}))()},type:function(){var t=this;return i()(a.a.mark(function e(){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.a)();case 2:n=e.sent,t.options=n.data;case 4:case"end":return e.stop()}},e,t)}))()},handleRemove:function(t){var e=this,n=this;this.$confirm("此操作将永久删除"+t.title+", 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(i()(a.a.mark(function o(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.i)(t.id);case 2:n.getList(),n.$message({type:"success",message:"删除成功!"});case 4:case"end":return e.stop()}},o,e)}))).catch(function(){n.$message({type:"info",message:"已取消删除"})})},triggerClick:function(t){this.copy(t.url)},copy:function(t){var e=document.createElement("input");e.value=t,document.body.appendChild(e),e.select(),document.execCommand("Copy"),e.style.display="none",document.body.removeChild(e),this.$notify({title:"复制成功",message:"已复制到剪切板",type:"success"})}},created:function(){this.type(),this.getList()},mounted:function(){}},d=(n("d1HN"),n("KHd+")),p=Object(d.a)(u,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"head-container"},[n("div",{staticClass:"left-wrapper"},[n("label",{staticClass:"item-label"},[t._v("图书类别")]),t._v(" "),n("div",{staticClass:"item-content"},[n("v-select",{attrs:{options:t.options},model:{value:t.listQuery.cid,callback:function(e){t.$set(t.listQuery,"cid",e)},expression:"listQuery.cid"}})],1),t._v(" "),n("div",{staticClass:"item-content"},[n("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.listQuery.keyword,callback:function(e){t.$set(t.listQuery,"keyword",e)},expression:"listQuery.keyword"}})],1),t._v(" "),n("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.getList}},[t._v("搜索")])],1),t._v(" "),n("div",{staticClass:"right-wrapper"},[n("router-link",{attrs:{to:{name:"ContentBooksCreate"}}},[n("el-button",{attrs:{icon:"el-icon-plus",type:"primary"}},[t._v("添加图书")])],1)],1)]),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:!0,fit:"","highlight-current-row":"","header-cell-style":{background:"#f5f7fa"}}},[n("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{prop:"id",label:"ID",width:"160",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{prop:"title",label:"书籍名称",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{prop:"classify_title",label:"类别",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.classify_info?e.row.classify_info.title:"")+"\n      ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"thumb_url",label:"缩略图",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.thumb_info?n("span",[n("el-image",{staticStyle:{width:"70px",height:"60px","border-radius":"5px",cursor:"pointer"},attrs:{src:e.row.thumb_info.url+"?imageView2/1/w/400/h/600/q/85"},on:{click:function(n){t.triggerClick(e.row.thumb_info)}}})],1):t._e()]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"author_info",label:"作者",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.author_info?n("span",[t._v("\n          "+t._s(e.row.author_info.name)+"\n        ")]):t._e()]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"copyright",label:"版权信息",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{prop:"description",label:"简介",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{prop:"tag",label:"标签",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.tags?n("span",{staticClass:"tag-wrapper"},t._l(e.row.tags.split("|"),function(e){return n("el-tag",{key:e},[t._v("\n            "+t._s(e)+"\n          ")])})):t._e()]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"添加时间",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("formatDate")(e.row.create_time,"yyyy-MM-dd hh:mm:ss")))]}}])}),t._v(" "),n("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("router-link",{attrs:{to:{name:"ContentBooksChapter",params:{id:e.row.id}}}},[n("el-button",{attrs:{size:"mini",type:"success"}},[t._v("章节")])],1),t._v(" "),n("router-link",{attrs:{to:{name:"ContentBooksEdit",params:{id:e.row.id}}}},[n("el-button",{attrs:{type:"warning",size:"mini"}},[t._v("编辑")])],1),t._v(" "),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){t.handleRemove(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),n("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.count},on:{"update:page":function(e){t.$set(t.listQuery,"page",e)},"update:limit":function(e){t.$set(t.listQuery,"count",e)},pagination:t.getList}})],1)},[],!1,null,"7c4df7b5",null);p.options.__file="list.vue";e.default=p.exports},"cpJ+":function(t,e,n){},d1HN:function(t,e,n){"use strict";var o=n("cpJ+");n.n(o).a},iGDy:function(t,e,n){"use strict";var o=n("1D2j");n.n(o).a}}]);