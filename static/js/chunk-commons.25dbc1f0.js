(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-commons"],{"/0Np":function(e,t,a){"use strict";var n=a("XTuN");a.n(n).a},"54Rs":function(e,t,a){"use strict";var n=a("nguc");a.n(n).a},"9CxU":function(e,t,a){"use strict";var n=a("7Qib");t.a={data:function(){return{sidebarElm:null}},mounted:function(){var e=this;this.__resizeHandler=Object(n.a)(function(){e.chart&&e.chart.resize()},100),window.addEventListener("resize",this.__resizeHandler),this.sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.sidebarElm&&this.sidebarElm.addEventListener("transitionend",this.sidebarResizeHandler)},beforeDestroy:function(){window.removeEventListener("resize",this.__resizeHandler),this.sidebarElm&&this.sidebarElm.removeEventListener("transitionend",this.sidebarResizeHandler)},methods:{sidebarResizeHandler:function(e){"width"===e.propertyName&&this.__resizeHandler()}}}},I4nI:function(e,t,a){},Mz3J:function(e,t,a){"use strict";var n=a("Y5bG"),i={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.$emit("update:limit",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,limit:e}),this.autoScroll&&Object(n.a)(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,limit:this.pageSize}),this.autoScroll&&Object(n.a)(0,800)}}},r=(a("oNgg"),a("KHd+")),s=Object(r.a)(i,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[a("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},[],!1,null,"285afc6a",null);s.options.__file="index.vue";t.a=s.exports},PLwA:function(e,t,a){"use strict";var n={name:"PanThumb",props:{image:{type:String,required:!0},zIndex:{type:Number,default:1},width:{type:String,default:"150px"},height:{type:String,default:"150px"}}},i=(a("54Rs"),a("KHd+")),r=Object(i.a)(n,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"pan-item",style:{zIndex:this.zIndex,height:this.height,width:this.width}},[t("div",{staticClass:"pan-info"},[t("div",{staticClass:"pan-info-roles-container"},[this._t("default")],2)]),this._v(" "),t("img",{staticClass:"pan-thumb",attrs:{src:this.image,onerror:"this.src='https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif'"}})])},[],!1,null,"726d52f1",null);r.options.__file="index.vue";t.a=r.exports},XTuN:function(e,t,a){},nguc:function(e,t,a){},oNgg:function(e,t,a){"use strict";var n=a("I4nI");a.n(n).a},yPmT:function(e,t,a){"use strict";var n=a("YEIV"),i=a.n(n),r=a("EJiy"),s=a.n(r),o=a("14Xm"),l=a.n(o),u=a("GQeE"),c=a.n(u),p=a("QbLZ"),d=a.n(p),h=a("P2sY"),m=a.n(h),f=a("D3Ub"),g=a.n(f),b=a("SIrY"),v=a("xDdU"),y={name:"PluginDialog",props:{show:{type:Boolean,default:!1},name:{type:String,default:""},pluginData:{type:Object,default:null}},data:function(){return{schema:{properties:{}},rules:{},data:{},isDataChanged:!1,objectPropertiesArray:{}}},watch:{show:function(e){this.resetPlugin(),e&&this.getschema(this.name),this.showDialog=e}},computed:{oneOfPropHasEmptyValue:function(){return!this.data.values||this.data.values.find(function(e){return""!==e})}},methods:{resetPlugin:function(){this.schema={properties:{}},this.rules={},this.data={},this.isDataChanged=!1},getschema:function(e){var t=this;return g()(l.a.mark(function a(){var n,i,r,s,o,u,p,h;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(b.a)(e);case 2:if(n=a.sent,(i=n).properties){a.next=7;break}return t.isDataChanged=!0,a.abrupt("return");case 7:for(s in t.schema=m()({},d()({},i,{name:t.name})),r=m()({},i.properties))o=m()({},r[s]),r[s]={trigger:"blur"},i.required&&(r[s].required=i.required.includes(s)),o.hasOwnProperty("type")&&(r[s].type=o.type),o.hasOwnProperty("minimum")&&(r[s].min=o.minimum),o.hasOwnProperty("maximum")&&(r[s].max=o.maximum),o.hasOwnProperty("enum")&&(r[s].type="enum",r[s].enum=o.enum);t.rules=r,u={},p=function(e){if(i.properties[e].default)return u[e]=i.properties[e].default,"continue";switch(i.properties[e].type){case"array":u[e]=[];break;case"object":u[e]={},t.objectPropertiesArray[e]=[],t.pluginData&&t.pluginData[e]&&c()(t.pluginData[e]).map(function(a){t.objectPropertiesArray[e].push({key:a,value:t.pluginData[e][a]})});break;case"boolean":u[e]=!1;break;default:u[e]=""}},a.t0=l.a.keys(i.properties);case 14:if((a.t1=a.t0()).done){a.next=21;break}if(h=a.t1.value,"continue"!==p(h)){a.next=19;break}return a.abrupt("continue",14);case 19:a.next=14;break;case 21:t.pluginData?t.data=m()(u,t.pluginData):t.data=u,"key-auth"!==t.name||t.pluginData||(t.data={key:v()},t.isDataChanged=!0),"ip-restriction"===t.name&&t.pluginData&&(h=c()(t.pluginData)[0],t.$nextTick(function(){t.data={radioKey:h,values:t.pluginData[h]}})),t.schema.oneOf&&(t.data={radioKey:c()(t.schema.properties)[0],values:[""]});case 25:case"end":return a.stop()}},a,t)}))()},onCancel:function(){this.$emit("hidePlugin")},onSave:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;e.data=m()({},e.data,e.reorganizeObjectProperty()),e.data=e.processOneOfProp(e.data),e.$emit("save",e.name,e.data),e.$message.warning("已保存!")})},addArrayItem:function(e){this.data[e].length<this.schema.properties[e].maxItems?(this.data[e].push(""),this.$forceUpdate()):this.$message.warning(""+this.$t("message.cannotAddMoreItems"))},deleteArrayItem:function(e,t){this.data[e].splice(t,1),this.isDataChanged=!0,this.$forceUpdate()},addObjectItem:function(e){this.objectPropertiesArray[e].push({key:"",value:""}),this.isDataChanged=!0,this.$forceUpdate()},deleteObjectItem:function(e,t){this.objectPropertiesArray[e].splice(t,1),this.isDataChanged=!0,this.$forceUpdate()},reorganizeObjectProperty:function(){var e=this,t={},a=function(a){var n={};e.objectPropertiesArray[a].map(function(e){n[e.key]=e.value}),t[a]=n};for(var n in this.objectPropertiesArray)a(n);return t},onObjectPropertyChange:function(){this.isDataChanged=!0,this.$forceUpdate()},onPropertyChange:function(e,t){this.data[e]=t,this.isDataChanged=!0},handleOneOfChange:function(e){this.data.values=[""]},addValueInput:function(){this.data.values=this.data.values.concat([""])},removeOneOfPropValue:function(e){this.data.values=this.data.values.filter(function(t,a){return e!==a})},processOneOfProp:function(e){if(!this.schema.oneOf){for(var t in e)""===e[t]&&delete e[t],"object"===s()(e[t])&&0===c()(e[t]).length&&delete e[t];return e}return i()({},this.data.radioKey,this.data.values)}},created:function(){},mounted:function(){}},_=(a("/0Np"),a("KHd+")),k=Object(_.a)(y,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"plugin-dialog"},[a("el-dialog",{attrs:{title:"Plugin "+e.name+" Edit",visible:e.show,"show-close":!1}},[e.schema.oneOf?a("el-form",{ref:"form",staticClass:"oneof-plugin-wrapper",attrs:{model:e.data,rules:e.rules,"show-message":!1}},[a("el-form-item",{attrs:{label:"Option",rules:{required:!0,trigger:"blur"}}},[a("el-radio-group",{on:{change:e.handleOneOfChange},model:{value:e.data.radioKey,callback:function(t){e.$set(e.data,"radioKey",t)},expression:"data['radioKey']"}},e._l(e.schema.properties,function(t,n){return a("el-radio",{key:n,attrs:{label:n}},[e._v(e._s(n))])}))],1),e._v(" "),e._l(e.data.values,function(t,n){return a("el-form-item",{key:n,attrs:{label:"Value"+(n+1),rules:{required:!0,trigger:"blur"}}},[a("el-input",{model:{value:e.data.values[n],callback:function(t){e.$set(e.data.values,n,t)},expression:"data['values'][index]"}}),e._v(" "),1!==e.data.values.length?a("el-button",{staticClass:"remove-value-btn",attrs:{type:"danger"},on:{click:function(t){t.preventDefault(),e.removeOneOfPropValue(n)}}},[e._v("Remove")]):e._e()],1)}),e._v(" "),a("el-form-item",[a("el-button",{attrs:{disabled:e.oneOfPropHasEmptyValue},on:{click:e.addValueInput}},[e._v("addValue")])],1)],2):e._e(),e._v(" "),e.schema.oneOf?e._e():a("el-form",{ref:"form",attrs:{model:e.data,rules:e.rules,"show-message":!1}},e._l(e.schema.properties,function(t,n){return a("el-form-item",{key:n,attrs:{label:n,"label-width":"160px",prop:n}},[a("label",{attrs:{slot:"label"},slot:"label"},[e._v("\n          "+e._s(n)+"\n          "),e.schema.properties[n].description?a("el-tooltip",{attrs:{placement:"top",effect:"light"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v(e._s(e.schema.properties[n].description))]),e._v(" "),a("i",{staticClass:"el-icon-info"})]):e._e()],1),e._v(" "),"integer"===e.schema.properties[n].type||"number"===e.schema.properties[n].type?a("el-input-number",{attrs:{min:e.schema.properties[n].minimum||-99999999999,max:e.schema.properties[n].maximum||99999999999,label:"描述文字"},on:{change:function(t){e.onPropertyChange(n,t)}},model:{value:e.data[n],callback:function(t){e.$set(e.data,n,t)},expression:"data[key]"}}):e._e(),e._v(" "),e.schema.properties[n].hasOwnProperty("enum")?a("el-select",{attrs:{clearable:!0,placeholder:"Select a "+n},on:{change:function(t){e.onPropertyChange(n,t)}},model:{value:e.data[n],callback:function(t){e.$set(e.data,n,t)},expression:"data[key]"}},e._l(e.schema.properties[n].enum,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})):e._e(),e._v(" "),"string"!==e.schema.properties[n].type||e.schema.properties[n].hasOwnProperty("enum")?e._e():a("el-input",{attrs:{placeholder:n},on:{input:function(t){e.onPropertyChange(n,t)}},model:{value:e.data[n],callback:function(t){e.$set(e.data,n,t)},expression:"data[key]"}}),e._v(" "),"boolean"!==e.schema.properties[n].type||e.schema.properties[n].hasOwnProperty("enum")?e._e():a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.data[n],callback:function(t){e.$set(e.data,n,t)},expression:"data[key]"}}),e._v(" "),"array"===e.schema.properties[n].type?a("div",{staticClass:"array-input-container"},[e._l(e.data[n],function(t,i){return a("div",{key:i,staticClass:"object-input-item"},[a("el-input",{key:i,attrs:{placeholder:n+" ["+i+"]"},on:{input:function(t){e.isDataChanged=!0}},model:{value:e.data[n][i],callback:function(t){e.$set(e.data[n],i,t)},expression:"data[key][arrayIndex]"}}),e._v(" "),a("el-button",{on:{click:function(t){e.deleteArrayItem(n,i)}}},[e._v("delete")])],1)}),e._v(" "),a("el-button",{on:{click:function(t){e.addArrayItem(n)}}},[e._v("addValue")])],2):e._e(),e._v(" "),"object"===e.schema.properties[n].type?a("div",{staticClass:"object-input-container"},[e._l(e.objectPropertiesArray[n],function(t,i){return a("div",{key:i,staticClass:"object-input-item"},[a("el-input",{attrs:{placeholder:n+" [key "+i+"]"},on:{input:function(t){e.onObjectPropertyChange(n,t,!0)}},model:{value:e.objectPropertiesArray[n][i].key,callback:function(t){e.$set(e.objectPropertiesArray[n][i],"key",t)},expression:"objectPropertiesArray[key][objectIndex].key"}}),e._v(" "),a("el-input",{attrs:{placeholder:n+" [value "+i+"]"},on:{input:function(t){e.onObjectPropertyChange(n,t,!1)}},model:{value:e.objectPropertiesArray[n][i].value,callback:function(t){e.$set(e.objectPropertiesArray[n][i],"value",t)},expression:"objectPropertiesArray[key][objectIndex].value"}}),e._v(" "),a("el-button",{on:{click:function(t){e.deleteObjectItem(n,i)}}},[e._v("delete")])],1)}),e._v(" "),a("el-button",{on:{click:function(t){e.addObjectItem(n)}}},[e._v("addValue")])],2):e._e()],1)})),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.onCancel}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onSave}},[e._v("确认")])],1)],1)],1)},[],!1,null,"457aa3f5",null);k.options.__file="index.vue";t.a=k.exports}}]);