(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0ba7"],{AzU1:function(t,e,r){"use strict";r.r(e);var i=r("14Xm"),n=r.n(i),o=r("D3Ub"),a=r.n(o),s=r("n7zn"),c=r("d7cB"),u={components:{Pagination:r("Mz3J").a},props:{},data:function(){return{id:this.$route.params.id,listLoading:!1,tableData:[],datetime:"",total:0,listQuery:{keyword:"",page:1,count:10,sort:"",type:"image",fs:1,cs:1,ts:1},formThead:[]}},watch:{},computed:{},methods:{getList:function(){var t=this;return a()(n.a.mark(function e(){var r,i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.listLoading=!0,r=[{key:"id",prop:"id",width:"auto"},{key:"名称",prop:"name",width:"auto"},{key:"创建时间",prop:"create_time",width:"auto"},{key:"修改时间",prop:"update_time",width:"auto"}],e.t0=t.listQuery.type,e.next="image"===e.t0?5:"article"===e.t0?7:"audio"===e.t0?9:"author"===e.t0?11:"video"===e.t0?13:15;break;case 5:return t.formThead=s.d.length?s.d:r,e.abrupt("break",16);case 7:return t.formThead=s.a.length?s.a:r,e.abrupt("break",16);case 9:return t.formThead=s.b.length?s.b:r,e.abrupt("break",16);case 11:return t.formThead=s.c.length?s.c:r,e.abrupt("break",16);case 13:return t.formThead=s.e.length?s.e:r,e.abrupt("break",16);case 15:return e.abrupt("break",16);case 16:return e.next=18,Object(c.d)(t.listQuery,t.id);case 18:i=e.sent,t.tableData=i.data,t.total=i.meta.total||0,t.listLoading=!1;case 22:case"end":return e.stop()}},e,t)}))()},save:function(){},handleRemove:function(t){var e=this,r=this;this.$confirm("此操作将永久删除"+t.title+"资源, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(a()(n.a.mark(function i(){var o;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return o={channel_id:e.id,resource_ids:[t.id],resource_type:e.listQuery.type,type:"remove"},i.next=3,Object(c.f)(o);case 3:r.getList(),r.$message({type:"success",message:"删除成功!"});case 5:case"end":return i.stop()}},i,e)}))).catch(function(){r.$message({type:"info",message:"已取消删除"})})},handleOpen:function(t,e){this.$refs["datetime_"+t].handleFocus()},handleUpdate:function(t){var e=this;return a()(n.a.mark(function t(){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log(e.datetime.getTime());case 1:case"end":return t.stop()}},t,e)}))()}},created:function(){this.getList()},mounted:function(){}},p=(r("QiNU"),r("KHd+")),d=Object(p.a)(u,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container"},[r("div",{staticClass:"head-container"},[r("div",{staticClass:"left-wrapper"},[r("label",{staticClass:"item-label"},[t._v("资源类型")]),t._v(" "),r("div",{staticClass:"item-content"},[r("el-radio-group",{on:{change:t.getList},model:{value:t.listQuery.type,callback:function(e){t.$set(t.listQuery,"type",e)},expression:"listQuery.type"}},[r("el-radio-button",{attrs:{label:"image"}}),t._v(" "),r("el-radio-button",{attrs:{label:"video"}}),t._v(" "),r("el-radio-button",{attrs:{label:"audio"}}),t._v(" "),r("el-radio-button",{attrs:{label:"article"}})],1)],1),t._v(" "),r("div",{staticClass:"item-content"},[r("el-input",{attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.listQuery.keyword,callback:function(e){t.$set(t.listQuery,"keyword",e)},expression:"listQuery.keyword"}})],1),t._v(" "),r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.getList}},[t._v("搜索")])],1)]),t._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{"header-cell-style":{background:"#f5f7fa"},border:"",fit:"","highlight-current-row":"",data:t.tableData}},[t._l(t.formThead,function(e){return r("el-table-column",{key:e.key,attrs:{label:e.key,prop:e.prop,width:e.width,align:"center"},scopedSlots:t._u([{key:"default",fn:function(i){return["description"===e.prop?r("span",[r("el-popover",{attrs:{placement:"top-start",width:"400",trigger:"click",content:i.row.description}},[r("el-button",{attrs:{slot:"reference"},slot:"reference"},[t._v("详情")])],1)],1):"create_time"===e.prop?r("span",[t._v("\n          "+t._s(t._f("formatDate")(i.row.create_time,"yyyy-MM-dd hh:mm:ss"))+"\n        ")]):"duration_time"===e.prop?r("span",[t._v("\n          "+t._s(t._f("SecondToDate")(i.row.duration_time))+"\n        ")]):"url"===e.prop&&i.row.file_info?r("a",{on:{click:function(e){t.triggerClick(i.row.file_info)}}},[t._v("\n          "+t._s(i.row.file_info.url)+"\n        ")]):"file_info"===e.prop&&i.row.file_info?r("span",[r("el-image",{staticStyle:{width:"70px",height:"60px","border-radius":"5px",cursor:"pointer"},attrs:{src:i.row.file_info?i.row.file_info.url:"?imageView2/1/w/400/h/400/q/85"},on:{click:function(e){t.triggerClick(i.row)}}})],1):"classify_info"===e.prop&&i.row.classify_info?r("span",[t._v("\n          "+t._s(i.row.classify_info.title)+"\n        ")]):"thumb_info"===e.prop&&i.row.thumb_info?r("span",[r("el-image",{staticStyle:{width:"70px",height:"60px","border-radius":"5px",cursor:"pointer"},attrs:{src:i.row.thumb_info.url+"?imageView2/1/w/400/h/600/q/85"},on:{click:function(e){t.triggerClick(i.row.thumb_info)}}})],1):"tags"===e.prop&&i.row.tags?r("span",{staticClass:"tag-wrapper"},t._l(i.row.tags.split("|"),function(e){return r("el-tag",{key:e},[t._v("\n            "+t._s(e)+"\n          ")])})):r("span",[t._v(t._s(i.row[i.column.property]))])]}}])})}),t._v(" "),r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(r){t.handleRemove(e.row)}}},[t._v("\n          删除\n        ")])]}}])})],2),t._v(" "),r("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.count},on:{"update:page":function(e){t.$set(t.listQuery,"page",e)},"update:limit":function(e){t.$set(t.listQuery,"count",e)},pagination:t.getList}})],1)},[],!1,null,"5639041c",null);d.options.__file="resource.vue";e.default=d.exports},QiNU:function(t,e,r){"use strict";var i=r("Zmgo");r.n(i).a},Y5bG:function(t,e,r){"use strict";r.d(e,"a",function(){return n}),Math.easeInOutQuad=function(t,e,r,i){return(t/=i/2)<1?r/2*t*t+e:-r/2*(--t*(t-2)-1)+e};var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};function n(t,e,r){var n=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,o=t-n,a=0;e=void 0===e?500:e;!function t(){a+=20,function(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}(Math.easeInOutQuad(a,n,o,e)),a<e?i(t):r&&"function"==typeof r&&r()}()}},Zmgo:function(t,e,r){},d7cB:function(t,e,r){"use strict";r.d(e,"b",function(){return n}),r.d(e,"a",function(){return o}),r.d(e,"c",function(){return a}),r.d(e,"e",function(){return s}),r.d(e,"d",function(){return c}),r.d(e,"f",function(){return u});var i=r("t3Un"),n=function(t){return Object(i.a)({url:"cms/channels",method:"get",params:t})},o=function(t){return Object(i.a)({url:"cms/channel",method:"post",data:t})},a=function(t){return Object(i.a)({url:"cms/channel/"+t,method:"get"})},s=function(t){return Object(i.a)({url:"cms/channel/"+t,method:"delete"})},c=function(t,e){return Object(i.a)({url:"/cms/channel/resource/"+e,method:"get",params:t})},u=function(t){return Object(i.a)({url:"cms/channel/resources",method:"put",data:t})}},n7zn:function(t,e,r){"use strict";var i=[{key:"ID",prop:"id",width:"200"},{key:"文章名称",prop:"title",width:"200"},{key:"文章类别",prop:"classify_info",width:"auto"},{key:"文章简介",prop:"description",width:"100"},{key:"文章缩略图",prop:"thumb_info",width:"120"},{key:"作者",prop:"author_info",width:"150"},{key:"标签",prop:"tags",width:"350"},{key:"来源",prop:"source",width:"150"},{key:"添加时间",prop:"create_time",width:"200"}],n=[{key:"ID",prop:"id",width:"200"},{key:"音频名称",prop:"title",width:"200"},{key:"音频类别",prop:"classify_info",width:"auto"},{key:"音频简介",prop:"description",width:"100"},{key:"音频缩略图",prop:"thumb_info",width:"120"},{key:"url",prop:"url",width:"350"},{key:"标签",prop:"tags",width:"200"},{key:"时长",prop:"duration_time",width:"100"},{key:"来源",prop:"source",width:"150"},{key:"创建时间",prop:"create_time",width:"200"}],o=[{key:"ID",prop:"id",width:"200"},{key:"作者名称",prop:"name",width:"120"},{key:"作者类别",prop:"classify_info",width:"auto"},{key:"别名",prop:"alias",width:"100"},{key:"简介",prop:"introduction",width:"120"},{key:"出生日期",prop:"birthdate",width:"150"},{key:"出生地",prop:"native_place",width:"300"},{key:"代表作",prop:"opus",width:"150"},{key:"添加时间",prop:"create_time",width:"200"}],a=[{key:"ID",prop:"id",width:"auto"},{key:"图片名称",prop:"title",width:"auto"},{key:"描述",prop:"description",width:"auto"},{key:"缩略图",prop:"file_info",width:"auto"},{key:"图片类别",prop:"classify_info",width:"auto"},{key:"添加时间",prop:"create_time",width:"auto"}],s=[{key:"ID",prop:"id",width:"200"},{key:"视频名称",prop:"title",width:"200"},{key:"视频类别",prop:"classify_info",width:"auto"},{key:"视频简介",prop:"description",width:"100"},{key:"视频缩略图",prop:"thumb_info",width:"120"},{key:"url",prop:"url",width:"350"},{key:"标签",prop:"tags",width:"200"},{key:"时长",prop:"duration_time",width:"100"},{key:"来源",prop:"source",width:"150"},{key:"创建时间",prop:"create_time",width:"200"}];r.d(e,"a",function(){return i}),r.d(e,"b",function(){return n}),r.d(e,"c",function(){return o}),r.d(e,"d",function(){return a}),r.d(e,"e",function(){return s})}}]);